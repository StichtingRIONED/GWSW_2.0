<span class="mark">Dit hoofdstuk bespreken met Michel</span>

De NEN2660 specificeert diverse modelleerpatronen - zowel eenvoudig als complex - voor attributen en relaties. Met de
complexe modelleerpatronen worden samengestelde kwanteiten en metadata voor waarden gemodelleerd. In die modelleervorm
wordt het kwalitatieve of kwantitatieve attribuut "geobjectiviceerd".

Het GWSW hanteerde ook in voorgaande versies het principe van "geobjectiviceerde attributen", de attributen werden
echter via de generieke relatie "hasAspect" aan het subject toegewezen.
Vanaf versie 2.0 volgt het GWSW de NEN2660. In de GWSW ontologie heeft elk aspect minimaal één domein (bij welke klasse
hoort het: rdfs:domain) en exact één bereik (welke kwantiteit of kwaliteit heeft het: rdfs:range). Alle mogelijke
domeinen en de range van een aspect zijn in de ontologie opgenomen.

Hierna volgen drie voorbeelden van kenmerk-modellering: SIMPLE, COMPLEX, COMPLEX GWSW.
Het GWSW datamodel hanteert de laatste (meest gedetailleerde) modelvorm.

**SIMPEL**

<div class="example">
  <div class="example-title marker">Model:</div>
  <pre>
  gwsw:Leiding            rdfs:subClassOf       nen2660:PhysicalObject .
  gwsw:MateriaalLeiding   rdfs:subClassOf       nen2660:QualityValue .
  gwsw:begindatum         rdf:type              owl:DatatypeProperty ;     
                          rdfs:domain           nen2660:PhysicalObject ;    # minimaal 1 domein          
                          rdfs:range            xsd:date .                  # exact 1 range (OWA: tenminste 1) 
  gwsw:materiaalLeiding   rdf:type              owl:ObjectProperty ;     
                          rdfs:domain           gwsw:Leiding ;              # minimaal 1 domein          
                          rdfs:range            gwsw:MateriaalLeiding .     # exact 1 range 
  gwsw:Beton              rdf:type              gwsw:MateriaalLeiding .     # wordt individu             
</pre>
</div>

<div class="example-dataset">
  <div class="example-title marker">Dataset:</div>
  <pre>
    ex:Leiding_1            rdf:type              gwsw:Leiding ;
                            gwsw:begindatum       "2012-05-01"^^xsd:date ;          
                            gwsw:materiaalLeiding gwsw:Beton .
</pre>
</div>

**COMPLEX**

De NEN2660 specificeert een modelleerpatroon voor "complexe" kenmerken:

<div class="example">
  <div class="example-title marker">Model:</div>
  <pre>
  gwsw:Leiding            rdfs:subClassOf       nen2660:PhysicalObject .
  gwsw:MateriaalLeiding   rdfs:subClassOf       nen2660:QualityValue .
  gwsw:Begindatum         rdfs:subClassOf       nen2660:QuantityValue .
  gwsw:begindatum         rdf:type              owl:ObjectProperty ;     
                          rdfs:domain           nen2660:PhysicalObject ;      # minimaal 1 domein          
                          rdfs:range            gwsw:Begindatum .             # exact 1 range (OWA: tenminste 1) 
  gwsw:materiaalLeiding   rdf:type              owl:ObjectProperty ;     
                          rdfs:domain           gwsw:Leiding ;                # minimaal 1 domein          
                          rdfs:range            gwsw:MateriaalLeiding .       # exact 1 range (OWA: tenminste 1)
  gwsw:Beton              rdf:type              gwsw:MateriaalLeiding .       # wordt individu             
</pre>
</div>

Individuals van kenmerken zoals leidingmateriaal worden direct gekoppeld via de property

<div class="example-dataset">
  <div class="example-title marker">Dataset:</div>
  <pre>
  ex:Leiding_1            rdf:type              gwsw:Leiding ;
                          gwsw:begindatum       
                          [ 
                            rdf:value           "2012-05-01"^^xsd:date; 
                          ] ; 
                          gwsw:materiaalLeiding gwsw:Beton .
</pre>
</div>

**COMPLEX - NEN 2660 + GWSW**

<div class="example">
  <div class="example-title marker">Optie: attributen specialiseren</div>
  <pre>
Niet echt nodig, af te leiden uit range bij objectproperty:

  gwsw:qualityProperty      rdf:type            owl:ObjectProperty ;          # Extra property met gespecificeerde range (hou de quality-props herkenbaar)
                            rdfs:range          nen2660:QualityValue .
  gwsw:quantityProperty     rdf:type            owl:ObjectProperty ;          # Extra property met gespecificeerde range (hou de quantity-props herkenbaar)
                            rdfs:range          nen2660:QuantityValue .
  gwsw:begindatum           rdfs:subPropertyOf  gwsw:quantityProperty ;     
  gwsw:materiaalLeiding     rdfs:subPropertyOf  gwsw:QualityProperty ;     
</pre>
</div>

Het GWSW sluit aan op het NEN2660-modelleerpatroon, we hanteren de "complexe" kenmerk patronen ook voor kwalitatieve
attributen.
Voorbeeld met volledig geobjectiviceerde kenmerken gwsw:Begindatum en gwsw:MateriaalLeiding.

<div class="example">
  <div class="example-title marker">Model:</div>
  <pre>
  gwsw:Leiding              rdfs:subClassOf     nen2660:PhysicalObject .
  gwsw:Begindatum           rdfs:subClassOf     nen2660:QuantityValue ;       
                            rdfs:label          "Begindatum" ;                # <span class="mark">kenmerk-annotaties op object-niveau (niet bij attribuut-property)</span>
                            rdfs:subClassOf
                            [
                              rdf:type          owl:Restriction ;
                              owl:onProperty    rdf:value ;
                              owl:allValuesFrom xsd:date ;
                            ] .
  gwsw:Beton                rdf:type            gwsw:LeidingMateriaalColl .   # wordt individu             
  gwsw:MateriaalLeidingColl rdfs:subClassOf     nen2660:Group ;               # <span class="mark">bestaat deze?</span> (alternatief is rdfs:Container, skos:Collection)
                            owl:equivalentClass
                            [
                              rdf:type          owl:Class ;
                              owl:oneOf         (gwsw:Beton gwsw:Pvc)         # individuen
                            ] .
  gwsw:MateriaalLeiding     rdfs:subClassOf     nen2660:QualityValue ;        # het object, met waarde en metakenmerken
                            rdfs:label          "Materiaal leiding" ;         # kenmerk-annotaties op object-niveau (niet bij attribuut-property)
                            rdfs:subClassOf                                   # restricties op object-niveau
                            [ 
                              rdf:type          owl:Restriction;
                              owl:onProperty    rdf:value ;
                              owl:allValuesFrom gwsw:MateriaalLeidingColl ;
                            ] .# In GWSW 2.0 wijkt dit deel (de attribuut-definitie) essentieel af van oudere GWSW-versies:

    
  
  gwsw:begindatum           rdf:type            owl:ObjectProperty ;          # de attribuut-IRI is consequent de range-class-naam, startend met lower-case
                            rdfs:domain         nen2660:PhysicalObject ;      # minimaal 1 domein          
                            rdfs:range          gwsw:Begindatum .             # exact 1 range (OWA: tenminste 1) 
  gwsw:materiaalLeiding     rdf:type            owl:ObjectProperty ;
                            rdfs:domain         gwsw:Leiding ;                # minimaal 1 domein          
                            rdfs:range          gwsw:MateriaalLeiding .       # exact 1 range
</pre>
</div>

<div class="box"><strong>De "oude" GWSW (versie 1.n) attribuut-definitie:</strong>
  <pre>
  gwsw:Leiding              rdfs:subClassOf
                            [
                              rdf:type                      owl:Restriction ;
                              owl:minQualifiedCardinality   "0"^^xsd: nonNegativeInteger ;
                              owl:onProperty                gwsw:hasAspect ;  # de "oude" generieke attribuut-property
                              owl:onClass                   gwsw:Begindatum .
                            ] , 
                            [
                              rdf:type                      owl:Restriction ;
                              owl:minQualifiedCardinality   "0"^^xsd: nonNegativeInteger ;
                              owl:onProperty                gwsw:hasAspect ;
                              owl:onClass                   gwsw:Materiaalleiding .
                            ] . 
</pre>
</div>

<div class="example-dataset">
  <div class="example-title marker">Dataset:</div>
  <pre>

    ex:Leiding_1  rdf:type              gwsw:Leiding ;
                  gwsw:begindatum                                                         
                  [
                    rdf:type            gwsw:Begindatum ;                       # expliciet typeren niet nodig, liever niet (redundant)
                    rdf:value           "2012-05-01"^^xsd:date; 
                  ] ;     
                  gwsw:materiaalLeiding                                         # impliciet gwsw:MateriaalLeiding, heeft meta-data
                  [
                    rdf:value           gwsw:Beton ;
                    gwsw:inwinning                                              # impliciet gwsw:Inwinning
                    [
                      gwsw:datumInwinning                                       # impliciet gwsw:DatumInwinning
                      [
                        rdf:value       "2023-05-11"^^xsd:date ;
                      ]
                    ] ;
                  ] .
  
</pre>
</div>
<div class="box"><strong>De "oude" GWSW (versie 1.n) attribuut-declaratie:</strong>
    <pre>
  ex:Leiding_1  rdf:type              gwsw:Leiding ;
                gwsw:hasAspect                                                            
                [                                   
                  rdf:type            gwsw:Begindatum ;                       # expliciet typeren
                  gwsw:hasValue       "2012-05-01"^^xsd:date; 
                ] ,     
                [ 
                  rdf:type            gwsw:MateriaalLeiding ;                 # expliciet typeeren
                  gwsw:hasAspect
                  [ 
                    rdf:type          gwsw:Inwinning                          # expliciet typeeren
                    [ 
                      gwsw:hasAspect 
                      [      
                        rdf:type      gwsw:Datuminwinning                     # expliciet typeeren
                        gwsw:hasValue "2023-05-11"^^xsd:date ;
                      ]
                  ] ;
                  gwsw:hasReference   gwsw:Beton ;
                ] .
</pre>
</div>